{"ast":null,"code":"import _slicedToArray from\"D:/Projects/Small Ones/REACT JS/calculator/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"D:/Projects/Small Ones/REACT JS/calculator/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useReducer}from\"react\";import DigitButton from\"./DigitButton\";import OperationButton from\"./OperationButton\";import\"../styles/Calculator.css\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ACTIONS={ADD_DIGIT:\"add-digit\",CHOOSE_OPERATION:\"choose-operation\",CLEAR:\"clear\",DELETE_DIGIT:\"delete-digit\",EVALUATE:\"evaluate\"};function reducer(state,_ref){var type=_ref.type,payload=_ref.payload;switch(type){case ACTIONS.ADD_DIGIT:if(state.overwrite){return _objectSpread(_objectSpread({},state),{},{currentOperand:payload.digit,overwrite:false});}if(payload.digit===\"0\"&&state.currentOperand===\"0\"){return state;}if(payload.digit===\".\"&&state.currentOperand.includes(\".\")){return state;}return _objectSpread(_objectSpread({},state),{},{currentOperand:\"\".concat(state.currentOperand||\"\").concat(payload.digit)});case ACTIONS.CHOOSE_OPERATION:if(state.currentOperand==null&&state.previousOperand==null){return state;}if(state.currentOperand==null){return _objectSpread(_objectSpread({},state),{},{operation:payload.operation});}if(state.previousOperand==null){return _objectSpread(_objectSpread({},state),{},{operation:payload.operation,previousOperand:state.currentOperand,currentOperand:null});}return _objectSpread(_objectSpread({},state),{},{previousOperand:evaluate(state),operation:payload.operation,currentOperand:null});case ACTIONS.CLEAR:return{};case ACTIONS.DELETE_DIGIT:if(state.overwrite){return _objectSpread(_objectSpread({},state),{},{overwrite:false,currentOperand:null});}if(state.currentOperand==null)return state;if(state.currentOperand.length===1){return _objectSpread(_objectSpread({},state),{},{currentOperand:null});}return _objectSpread(_objectSpread({},state),{},{currentOperand:state.currentOperand.slice(0,-1)});case ACTIONS.EVALUATE:if(state.operation==null||state.currentOperand==null||state.previousOperand==null){return state;}return _objectSpread(_objectSpread({},state),{},{overwrite:true,previousOperand:null,operation:null,currentOperand:evaluate(state)});}}function evaluate(_ref2){var currentOperand=_ref2.currentOperand,previousOperand=_ref2.previousOperand,operation=_ref2.operation;var prev=parseFloat(previousOperand);var current=parseFloat(currentOperand);if(isNaN(prev)||isNaN(current))return\"\";var computation=\"\";switch(operation){case\"+\":computation=prev+current;break;case\"-\":computation=prev-current;break;case\"*\":computation=prev*current;break;case\"รท\":computation=prev/current;break;}return computation.toString();}var INTEGER_FORMATTER=new Intl.NumberFormat(\"en-us\",{maximumFractionDigits:0});function formatOperand(operand){if(operand==null)return;var _operand$split=operand.split(\".\"),_operand$split2=_slicedToArray(_operand$split,2),integer=_operand$split2[0],decimal=_operand$split2[1];if(decimal==null)return INTEGER_FORMATTER.format(integer);return\"\".concat(INTEGER_FORMATTER.format(integer),\".\").concat(decimal);}function Calculator(){var _useReducer=useReducer(reducer,{}),_useReducer2=_slicedToArray(_useReducer,2),_useReducer2$=_useReducer2[0],currentOperand=_useReducer2$.currentOperand,previousOperand=_useReducer2$.previousOperand,operation=_useReducer2$.operation,dispatch=_useReducer2[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"calculator-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"output\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"previous-operand\",children:[formatOperand(previousOperand),\" \",operation]}),/*#__PURE__*/_jsx(\"div\",{className:\"current-operand\",children:formatOperand(currentOperand)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"span-two\",onClick:function onClick(){return dispatch({type:ACTIONS.CLEAR});},children:\"AC\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return dispatch({type:ACTIONS.DELETE_DIGIT});},children:\"DEL\"}),/*#__PURE__*/_jsx(OperationButton,{operation:\"\\xF7\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"1\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"2\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"3\",dispatch:dispatch}),/*#__PURE__*/_jsx(OperationButton,{operation:\"*\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"4\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"5\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"6\",dispatch:dispatch}),/*#__PURE__*/_jsx(OperationButton,{operation:\"+\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"7\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"8\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"9\",dispatch:dispatch}),/*#__PURE__*/_jsx(OperationButton,{operation:\"-\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\".\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"0\",dispatch:dispatch}),/*#__PURE__*/_jsx(\"button\",{className:\"span-two\",onClick:function onClick(){return dispatch({type:ACTIONS.EVALUATE});},children:\"=\"})]});}export default Calculator;","map":{"version":3,"names":["useReducer","DigitButton","OperationButton","ACTIONS","ADD_DIGIT","CHOOSE_OPERATION","CLEAR","DELETE_DIGIT","EVALUATE","reducer","state","type","payload","overwrite","currentOperand","digit","includes","previousOperand","operation","evaluate","length","slice","prev","parseFloat","current","isNaN","computation","toString","INTEGER_FORMATTER","Intl","NumberFormat","maximumFractionDigits","formatOperand","operand","split","integer","decimal","format","Calculator","dispatch"],"sources":["D:/Projects/Small Ones/REACT JS/calculator/src/components/Calculator.js"],"sourcesContent":["import { useReducer } from \"react\"\r\nimport DigitButton from \"./DigitButton\"\r\nimport OperationButton from \"./OperationButton\"\r\nimport \"../styles/Calculator.css\"\r\n\r\nexport const ACTIONS = {\r\n  ADD_DIGIT: \"add-digit\",\r\n  CHOOSE_OPERATION: \"choose-operation\",\r\n  CLEAR: \"clear\",\r\n  DELETE_DIGIT: \"delete-digit\",\r\n  EVALUATE: \"evaluate\",\r\n}\r\n\r\nfunction reducer(state, { type, payload }) {\r\n  switch (type) {\r\n    case ACTIONS.ADD_DIGIT:\r\n      if (state.overwrite) {\r\n        return {\r\n          ...state,\r\n          currentOperand: payload.digit,\r\n          overwrite: false,\r\n        }\r\n      }\r\n      if (payload.digit === \"0\" && state.currentOperand === \"0\") {\r\n        return state\r\n      }\r\n      if (payload.digit === \".\" && state.currentOperand.includes(\".\")) {\r\n        return state\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        currentOperand: `${state.currentOperand || \"\"}${payload.digit}`,\r\n      }\r\n    case ACTIONS.CHOOSE_OPERATION:\r\n      if (state.currentOperand == null && state.previousOperand == null) {\r\n        return state\r\n      }\r\n\r\n      if (state.currentOperand == null) {\r\n        return {\r\n          ...state,\r\n          operation: payload.operation,\r\n        }\r\n      }\r\n\r\n      if (state.previousOperand == null) {\r\n        return {\r\n          ...state,\r\n          operation: payload.operation,\r\n          previousOperand: state.currentOperand,\r\n          currentOperand: null,\r\n        }\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        previousOperand: evaluate(state),\r\n        operation: payload.operation,\r\n        currentOperand: null,\r\n      }\r\n    case ACTIONS.CLEAR:\r\n      return {}\r\n    case ACTIONS.DELETE_DIGIT:\r\n      if (state.overwrite) {\r\n        return {\r\n          ...state,\r\n          overwrite: false,\r\n          currentOperand: null,\r\n        }\r\n      }\r\n      if (state.currentOperand == null) return state\r\n      if (state.currentOperand.length === 1) {\r\n        return { ...state, currentOperand: null }\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        currentOperand: state.currentOperand.slice(0, -1),\r\n      }\r\n    case ACTIONS.EVALUATE:\r\n      if (\r\n        state.operation == null ||\r\n        state.currentOperand == null ||\r\n        state.previousOperand == null\r\n      ) {\r\n        return state\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        overwrite: true,\r\n        previousOperand: null,\r\n        operation: null,\r\n        currentOperand: evaluate(state),\r\n      }\r\n  }\r\n}\r\n\r\nfunction evaluate({ currentOperand, previousOperand, operation }) {\r\n  const prev = parseFloat(previousOperand)\r\n  const current = parseFloat(currentOperand)\r\n  if (isNaN(prev) || isNaN(current)) return \"\"\r\n  let computation = \"\"\r\n  switch (operation) {\r\n    case \"+\":\r\n      computation = prev + current\r\n      break\r\n    case \"-\":\r\n      computation = prev - current\r\n      break\r\n    case \"*\":\r\n      computation = prev * current\r\n      break\r\n    case \"รท\":\r\n      computation = prev / current\r\n      break\r\n  }\r\n\r\n  return computation.toString()\r\n}\r\n\r\nconst INTEGER_FORMATTER = new Intl.NumberFormat(\"en-us\", {\r\n  maximumFractionDigits: 0,\r\n})\r\nfunction formatOperand(operand) {\r\n  if (operand == null) return\r\n  const [integer, decimal] = operand.split(\".\")\r\n  if (decimal == null) return INTEGER_FORMATTER.format(integer)\r\n  return `${INTEGER_FORMATTER.format(integer)}.${decimal}`\r\n}\r\n\r\nfunction Calculator() {\r\n  const [{ currentOperand, previousOperand, operation }, dispatch] = useReducer(\r\n    reducer,\r\n    {}\r\n  )\r\n\r\n  return (\r\n    <div className=\"calculator-grid\">\r\n      <div className=\"output\">\r\n        <div className=\"previous-operand\">\r\n          {formatOperand(previousOperand)} {operation}\r\n        </div>\r\n        <div className=\"current-operand\">{formatOperand(currentOperand)}</div>\r\n      </div>\r\n      <button\r\n        className=\"span-two\"\r\n        onClick={() => dispatch({ type: ACTIONS.CLEAR })}\r\n      >\r\n        AC\r\n      </button>\r\n      <button onClick={() => dispatch({ type: ACTIONS.DELETE_DIGIT })}>\r\n        DEL\r\n      </button>\r\n      <OperationButton operation=\"รท\" dispatch={dispatch} />\r\n      <DigitButton digit=\"1\" dispatch={dispatch} />\r\n      <DigitButton digit=\"2\" dispatch={dispatch} />\r\n      <DigitButton digit=\"3\" dispatch={dispatch} />\r\n      <OperationButton operation=\"*\" dispatch={dispatch} />\r\n      <DigitButton digit=\"4\" dispatch={dispatch} />\r\n      <DigitButton digit=\"5\" dispatch={dispatch} />\r\n      <DigitButton digit=\"6\" dispatch={dispatch} />\r\n      <OperationButton operation=\"+\" dispatch={dispatch} />\r\n      <DigitButton digit=\"7\" dispatch={dispatch} />\r\n      <DigitButton digit=\"8\" dispatch={dispatch} />\r\n      <DigitButton digit=\"9\" dispatch={dispatch} />\r\n      <OperationButton operation=\"-\" dispatch={dispatch} />\r\n      <DigitButton digit=\".\" dispatch={dispatch} />\r\n      <DigitButton digit=\"0\" dispatch={dispatch} />\r\n      <button\r\n        className=\"span-two\"\r\n        onClick={() => dispatch({ type: ACTIONS.EVALUATE })}\r\n      >\r\n        =\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Calculator"],"mappings":"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"},"metadata":{},"sourceType":"module"}